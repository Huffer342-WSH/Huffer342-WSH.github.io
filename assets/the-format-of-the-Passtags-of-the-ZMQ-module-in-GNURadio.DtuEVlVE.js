import{_ as E}from"./ValaxyMain.vue_vue_type_style_index_0_lang.45YYFxBa.js";import{f as c,a as y}from"./chunks/vue-router.aOcOW5FA.js";import{A as g,M as m,a3 as a,u,N as f,U as l,S as s,W as i}from"./framework.CrQDr1gD.js";import"./app.BysTI9HO.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.KUtIpHG9.js";import"./chunks/pinia.HY29yXn_.js";import"./chunks/@vueuse/motion.CRM0IDQD.js";import"./chunks/nprogress.Cino7761.js";import"./YunComment.vue_vue_type_style_index_0_lang.BF_gtew7.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BK-sBKTS.js";import"./post.B3t-mDxK.js";const F="/assets/ZMQ-PUB-Sink-Block-in-GNURadio.BHQoLjdm.png",A="/assets/recv_multipart.DonYcOxw.png",b="/assets/passtags_recv_data.DXWNHcoc.png",v=c("/posts/myNotes/some-details/the-format-of-the-Passtags-of-the-ZMQ-module-in-GNURadio",async n=>JSON.parse('{"title":"GNU-Radio中ZMQ模块的Pass-Tags","description":"","frontmatter":{"layout":"post","title":"GNU-Radio中ZMQ模块的Pass-Tags","date":"2024-07-12 18:24:00","categories":["细枝末节"],"excerpt":"GNU-Radio中ZMQ模块可选\\"Pass tags\\"选项，选择该选项后，ZMQ模块再传输数据时会在数据包的头部添加额外19Bytes的头部，其中包含数据的offset信息。"},"headers":[{"level":2,"title":"解析Pass Tags","slug":"解析pass-tags","link":"#解析pass-tags","children":[]}],"relativePath":"pages/posts/myNotes/some-details/the-format-of-the-Passtags-of-the-ZMQ-module-in-GNURadio.md","lastUpdated":null}'),{lazy:(n,h)=>n.name===h.name}),Z={__name:"the-format-of-the-Passtags-of-the-ZMQ-module-in-GNURadio",setup(n,{expose:h}){var r;const{data:k}=v(),p=y(),e=Object.assign(p.meta.frontmatter||{},((r=k.value)==null?void 0:r.frontmatter)||{});return p.meta.frontmatter=e,g("pageData",k.value),g("valaxy:frontmatter",e),globalThis.$frontmatter=e,h({frontmatter:{layout:"post",title:"GNU-Radio中ZMQ模块的Pass-Tags",date:"2024-07-12 18:24:00",categories:["细枝末节"],excerpt:'GNU-Radio中ZMQ模块可选"Pass tags"选项，选择该选项后，ZMQ模块再传输数据时会在数据包的头部添加额外19Bytes的头部，其中包含数据的offset信息。'}}),(t,d)=>{const o=E;return f(),m(o,{frontmatter:u(e)},{"main-content-md":a(()=>d[0]||(d[0]=[s("p",null,"GNU-Radio中可以用ZMQ模块实时输数据给其他程序，相比UDP模块更加稳定。",-1),s("figure",null,[s("img",{src:F,alt:"alt text",loading:"lazy",decoding:"async"})],-1),s("p",null,'GNU-Radio中的ZMQ模块可以设置"Pass Tags"和"Filter Key",官网的描述如下:',-1),s("blockquote",null,[s("p",null,"Wire Format The ZMQ stream blocks have the option to pass tags. In addition, the PUB/SUB blocks support filtering. Both of these options affect the ZMQ wire protocol. When a filter string is supplied to a PUB/SUB block, GNU Radio uses multi-part messages to send the filter string, followed by the payload. Non-GNU Radio code attempting to interface with GNU Radio ZMQ blocks must be prepared for this part, and discard it. Note that the sender only sends this message part if a non-empty filter has been specified. Next, if sending tags is enabled, any tags within the window of the data to be sent are encoded in a special format and prepended to the payload data. If tags are not enabled, this header is elided. These two features make matching the sender configuration to the receiver configuration essential. Failure to do so will cause runtime errors in your flowgraph.")],-1),s("p",null,[i('文中提到了"Filter Key"是用ZMQ的"multi-part messages"来发送的，pyZMQ中提供的方法如下： '),s("img",{src:A,alt:"alt text"})],-1),s("p",null,'测试了一下返回值如下图，可以看到我设置的’AAAA’被列出来了，很可惜"Pass Tags"还是和发送的数据连在一起。',-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null," [b'AAAA', b'\\xf0_\\x01g\\xe6G\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x80?\\x00\\x00\\x0  ....]")])])]),s("button",{class:"collapse"})],-1),s("h2",{id:"解析pass-tags",tabindex:"-1"},[i("解析Pass Tags "),s("a",{class:"header-anchor",href:"#解析pass-tags","aria-label":'Permalink to "解析Pass Tags"'},"​")],-1),s("p",null,'首先用GNU-Radio发送直流信号(常数)，对比"Pass Tags"有没有的区别。',-1),s("figure",null,[s("img",{src:b,alt:"alt text",loading:"lazy",decoding:"async"})],-1),s("p",null,'左半边是设置了"Pass Tags"的，右半边是没设置"Pass Tags"的。可以看到"Pass Tags"在头部额外添加了一段数据，共19Bytes：',-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"f05f01684f1400000000000000000000000000")])])]),s("button",{class:"collapse"})],-1),s("p",null,'多接收几组数据看看"Pass Tags"',-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"长度（Bytes）                 Pass Tags")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32783         f05f0159df2c00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f0158ff2c00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32783         f05f01581f2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f01573f2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32783         f05f01575f2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f01567f2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32783         f05f01569f2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f0155bf2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32783         f05f0155df2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  65551         f05f0154ff2d00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f01533f2e00000000000000000000000000")])])]),s("button",{class:"collapse"})],-1),s("p",null,[i("大致可以看出前面一段"),s("code",null,"f05f015"),i("是固定的，后面的是数据的序号。不过GNU-Radio是开源的，所以不如直接翻翻源码。")],-1),s("p",null,[i("从"),s("code",null,"push_sink_impl.cc"),i("模块一步一步下翻就能找到"),s("code",null,"gnuradio-3.10.10.0/gr-zeromq/lib/tag_headers.cc:31 std::string gen_tag_header(uint64_t offset, std::vector<gr::tag_t>& tags)"),i("，这个函数用来生成Pass Tags的。")],-1),s("div",{style:{"max-height":"500px"},class:"language-c vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"c"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#define"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," GR_HEADER_MAGIC"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 0x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5FF0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#define"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," GR_HEADER_VERSION"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 0x"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"01")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"std::string "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"gen_tag_header"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint64_t"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," offset"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", std::vector"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"gr::"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"tag_t"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">&"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    std::stringbuf "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sb"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'""'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    std::ostream "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ss"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"sb);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    uint16_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," header_magic "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," GR_HEADER_MAGIC;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    uint8_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," header_version "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," GR_HEADER_VERSION;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    uint64_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ntags "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint64_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")tags."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"size"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ss."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"write"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," char*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"header_magic, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"sizeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint16_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ss."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"write"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," char*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"header_version, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"sizeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint8_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ss."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"write"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," char*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"offset, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"sizeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint64_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ss."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"write"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," char*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ntags, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"sizeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint64_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"));")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    for"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"size_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," i "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; i "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," tags."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"size"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(); i"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"++"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        ss."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"write"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," char*"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[i].offset, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"sizeof"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"uint64_t"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        pmt::serialize"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[i].key, sb);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        pmt::serialize"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[i].value, sb);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        pmt::serialize"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[i].srcid, sb);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    return"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," sb."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"str"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1),s("p",null,"可以看到头部共19个字节，分别为2字节0x5FF0，1个字节0x01，8个字节offset，8个字节ntags。 用上面的数据看一下：",-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"  32783         f05f0159df2c00000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"  32787         f05f0158ff2c00000000000000000000000000")])])]),s("button",{class:"collapse"})],-1),s("p",null,"把offset部分提取出来,数据是小端格式的，得到的数据如下：",-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"59df2c0000000000 --> 2940761")]),i(`
`),s("span",{class:"line"},[s("span",null,"58ff2c0000000000 --> 2948952")])])]),s("button",{class:"collapse"})],-1),s("p",null,"观察一下offset的变化，我传输的是float类型的数据，正好对应一个元素4字节。",-1),s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{rowspacing:"0.25em",columnalign:"right",columnspacing:""},[s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mn",null,"2948952"),s("mo",null,"−"),s("mn",null,"2940761"),s("mo",null,"="),s("mn",null,"8191")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mn",null,"32783"),s("mo",null,"="),s("mn",null,"19"),s("mo",null,"+"),s("mn",null,"8191"),s("mo",null,"×"),s("mn",null,"4")])])])])]),s("annotation",{encoding:"application/x-tex"},"\\begin{align*} 2948952 - 2940761 = 8191 \\\\ 32783 = 19 + 8191 \\times 4\\\\ \\end{align*} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"3em","vertical-align":"-1.25em"}}),s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2948952"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"2940761"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},"8191")])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"32783"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord"},"19"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"8191"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},"4")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])])])])])])])])],-1),s("p",null,"再传输一下complex数据试试，一个元素应该是8字节。",-1),s("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"32779 f05f01ef6ca804000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span",null,"32787 f05f01ee7ca804000000000000000000000000")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"78150894-78146799 = 4095")]),i(`
`),s("span",{class:"line"},[s("span",null,"32779 = 19 + 4095 * 8")])])]),s("button",{class:"collapse"})],-1)])),"main-header":a(()=>[l(t.$slots,"main-header")]),"main-header-after":a(()=>[l(t.$slots,"main-header-after")]),"main-nav":a(()=>[l(t.$slots,"main-nav")]),"main-content-before":a(()=>[l(t.$slots,"main-content-before")]),"main-content":a(()=>[l(t.$slots,"main-content")]),"main-content-after":a(()=>[l(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[l(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[l(t.$slots,"main-nav-after")]),comment:a(()=>[l(t.$slots,"comment")]),footer:a(()=>[l(t.$slots,"footer")]),aside:a(()=>[l(t.$slots,"aside")]),"aside-custom":a(()=>[l(t.$slots,"aside-custom")]),default:a(()=>[l(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{Z as default,v as usePageData};
