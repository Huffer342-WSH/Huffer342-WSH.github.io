import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.45YYFxBa.js";import{f as F,a as m}from"./chunks/vue-router.aOcOW5FA.js";import{A as d,M as y,a3 as t,u as E,N as u,U as e,S as i,W as s}from"./framework.CrQDr1gD.js";import"./app.BysTI9HO.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.KUtIpHG9.js";import"./chunks/pinia.HY29yXn_.js";import"./chunks/@vueuse/motion.CRM0IDQD.js";import"./chunks/nprogress.Cino7761.js";import"./YunComment.vue_vue_type_style_index_0_lang.BF_gtew7.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BK-sBKTS.js";import"./post.B3t-mDxK.js";const C="/assets/shell-echo.DkKZpQQy.png",f=F("/posts/myNotes/guide/Customize_the_format_of_the_Linux_terminal_prompt",async h=>JSON.parse('{"title":"自定义linux终端提示符格式，添加Git信息","description":"","frontmatter":{"layout":"post","title":"自定义linux终端提示符格式，添加Git信息","date":"2024-12-29 18:55:15","categories":["教程"],"excerpt":null,"hide":false},"headers":[{"level":2,"title":"获取Git信息","slug":"获取git信息","link":"#获取git信息","children":[]},{"level":2,"title":"添加换行","slug":"添加换行","link":"#添加换行","children":[]}],"relativePath":"pages/posts/myNotes/guide/Customize_the_format_of_the_Linux_terminal_prompt.md","lastUpdated":null}'),{lazy:(h,n)=>h.name===n.name}),N={__name:"Customize_the_format_of_the_Linux_terminal_prompt",setup(h,{expose:n}){var p;const{data:k}=f(),r=m(),l=Object.assign(r.meta.frontmatter||{},((p=k.value)==null?void 0:p.frontmatter)||{});return r.meta.frontmatter=l,d("pageData",k.value),d("valaxy:frontmatter",l),globalThis.$frontmatter=l,n({frontmatter:{layout:"post",title:"自定义linux终端提示符格式，添加Git信息",date:"2024-12-29 18:55:15",categories:["教程"],excerpt:null,hide:!1}}),(a,o)=>{const g=c;return u(),y(g,{frontmatter:E(l)},{"main-content-md":t(()=>o[0]||(o[0]=[i("p",null,[s("终端提示符的格式通过"),i("code",null,"PS1"),s("环境变量控制。在终端中查看"),i("code",null,"PS1")],-1),i("div",{style:{"max-height":"500px"},class:"language-sh vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $PS1")])])]),i("button",{class:"collapse"})],-1),i("figure",null,[i("img",{src:C,alt:"alt text",loading:"lazy",decoding:"async"})],-1),i("p",null,[s("一些简单的效果可以通过在"),i("code",null,".bashrc"),s("中修改PS1环境变量实现, 想要更多的功能可以使用"),i("code",null,"Oh-my-zsh"),s("等工具实现。")],-1),i("p",null,[s("关于终端提示符自定义的具体内容可以参考"),i("a",{href:"https://wiki.archlinux.org/title/Bash/Prompt_customization",target:"_blank",rel:"noreferrer"},"《Bash/Prompt customization》")],-1),i("p",null,[s("这里我列出我的"),i("code",null,"~/.bashrc"),s("修改后的配置")],-1),i("div",{style:{"max-height":"500px"},class:"language-sh vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GIT_PROMPT"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rev-parse"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --is-inside-work-tree"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/dev/null"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 2>&1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "(git::$('),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symbolic-ref "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"--short"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," HEAD "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"2>"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'/dev/null))"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"END_PROMPT"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"\\r\\n'),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"\\$"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [ "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$color_prompt"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," yes ]; "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    PS1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\] ''\\[\\033[38;5;214m\\]'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$GIT_PROMPT"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'\\[\\033[00m\\]'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$END_PROMPT")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    PS1"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'${debian_chroot:+($debian_chroot)}\\u@\\h:\\w '"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$GIT_PROMPT$END_PROMPT")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"fi")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("主要做了两处修改: "),i("strong",null,"添加git仓库的信息"),s("、"),i("strong",null,"添加换行")],-1),i("h2",{id:"获取git信息",tabindex:"-1"},[s("获取Git信息 "),i("a",{class:"header-anchor",href:"#获取git信息","aria-label":'Permalink to "获取Git信息"'},"​")],-1),i("p",null,"查询是否是git仓库",-1),i("div",{style:{"max-height":"500px"},class:"language- vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"}),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"git rev-parse --is-inside-work-tree")])])]),i("button",{class:"collapse"})],-1),i("p",null,"查询当前分支",-1),i("div",{style:{"max-height":"500px"},class:"language-sh vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symbolic-ref"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --short"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," HEAD")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("结合以上语句将仓库名保存到变量"),i("code",null,"GIT_PROMPT"),s("中：")],-1),i("div",{style:{"max-height":"500px"},class:"language-sh vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"GIT_PROMPT"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rev-parse"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --is-inside-work-tree"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/dev/null"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 2>&1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "(git::$('),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," symbolic-ref "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"--short"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," HEAD "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"2>"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'/dev/null))"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),i("button",{class:"collapse"})],-1),i("h2",{id:"添加换行",tabindex:"-1"},[s("添加换行 "),i("a",{class:"header-anchor",href:"#添加换行","aria-label":'Permalink to "添加换行"'},"​")],-1),i("p",null,"当工作路径太长的时候，会把我们输的目录挤到一边，没敲几个词就换行。所以在PROMPT的结尾添加换行",-1),i("div",{style:{"max-height":"500px"},class:"language-sh vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"sh"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"END_PROMPT"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"\\r\\n'),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"\\$"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "')])])]),i("button",{class:"collapse"})],-1)])),"main-header":t(()=>[e(a.$slots,"main-header")]),"main-header-after":t(()=>[e(a.$slots,"main-header-after")]),"main-nav":t(()=>[e(a.$slots,"main-nav")]),"main-content-before":t(()=>[e(a.$slots,"main-content-before")]),"main-content":t(()=>[e(a.$slots,"main-content")]),"main-content-after":t(()=>[e(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[e(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[e(a.$slots,"main-nav-after")]),comment:t(()=>[e(a.$slots,"comment")]),footer:t(()=>[e(a.$slots,"footer")]),aside:t(()=>[e(a.$slots,"aside")]),"aside-custom":t(()=>[e(a.$slots,"aside-custom")]),default:t(()=>[e(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{N as default,f as usePageData};
