import{_ as u}from"./ValaxyMain.vue_vue_type_style_index_0_lang.45YYFxBa.js";import{f as m,a as b}from"./chunks/vue-router.aOcOW5FA.js";import{A as k,M as y,a3 as t,u as F,N as v,U as e,S as s,R as C,W as l}from"./framework.CrQDr1gD.js";import"./app.BysTI9HO.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.KUtIpHG9.js";import"./chunks/pinia.HY29yXn_.js";import"./chunks/@vueuse/motion.CRM0IDQD.js";import"./chunks/nprogress.Cino7761.js";import"./YunComment.vue_vue_type_style_index_0_lang.BF_gtew7.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BK-sBKTS.js";import"./post.B3t-mDxK.js";const E="/assets/Lists-all-partitions.BKEq48Ce.webp",f="/assets/View-the-partition-device-name.DEocAJ3c.webp",B="/assets/Repair-Linux-system-Grub-boot.vtm85FOh.webp",c=m("/posts/myNotes/guide/Manually_booting_the_Linux_kernel_from_GRUB",async o=>JSON.parse('{"title":"Grub手动引导linux","description":"","frontmatter":{"layout":"post","title":"Grub手动引导linux","date":"2024-06-03 16:26:00","categories":["教程"]},"headers":[{"level":2,"title":"精简版","slug":"精简版","link":"#精简版","children":[]},{"level":2,"title":"0. 设置根路径(可选)","slug":"_0-设置根路径-可选","link":"#_0-设置根路径-可选","children":[]},{"level":2,"title":"1. 加载内核","slug":"_1-加载内核","link":"#_1-加载内核","children":[{"level":3,"title":"","slug":"","link":"#","children":[]}]},{"level":2,"title":"2. 初始化RAM盘","slug":"_2-初始化ram盘","link":"#_2-初始化ram盘","children":[]},{"level":2,"title":"3.最后一步—— boot","slug":"_3-最后一步——-boot","link":"#_3-最后一步——-boot","children":[]},{"level":2,"title":"完整截图","slug":"完整截图","link":"#完整截图","children":[]},{"level":2,"title":"进了系统后怎么修复引导","slug":"进了系统后怎么修复引导","link":"#进了系统后怎么修复引导","children":[]}],"relativePath":"pages/posts/myNotes/guide/Manually_booting_the_Linux_kernel_from_GRUB.md","lastUpdated":null}'),{lazy:(o,r)=>o.name===r.name}),O={__name:"Manually_booting_the_Linux_kernel_from_GRUB",setup(o,{expose:r}){var d;const{data:h}=c(),p=b(),n=Object.assign(p.meta.frontmatter||{},((d=h.value)==null?void 0:d.frontmatter)||{});return p.meta.frontmatter=n,k("pageData",h.value),k("valaxy:frontmatter",n),globalThis.$frontmatter=n,r({frontmatter:{layout:"post",title:"Grub手动引导linux",date:"2024-06-03 16:26:00",categories:["教程"]}}),(a,i)=>{const g=u;return v(),y(g,{frontmatter:F(n)},{"main-content-md":t(()=>[i[0]||(i[0]=s("p",null,"捣鼓往移动硬盘里装系统的时候一不小心把系统引导搞丢了，导致一开机就进了Grub的命令行界面，而不是正常的选系统界面。这个时候我的系统已经装在硬盘里了，只不过引导出了问题，所以可以在Grub的命令行界面手动引导系统。",-1)),C(" more "),i[1]||(i[1]=s("p",null,"一下内容只适合还进得去GRUB的情况，加入进不去GRUB就要用liveCD来修复了。",-1)),i[2]||(i[2]=s("p",null,[l("GRUB引导系统分为两步："),s("strong",null,"加载内核"),l("和"),s("strong",null,"初始化RAM盘"),l("。")],-1)),i[3]||(i[3]=s("h2",{id:"精简版",tabindex:"-1"},[l("精简版 "),s("a",{class:"header-anchor",href:"#精简版","aria-label":'Permalink to "精简版"'},"​")],-1)),i[4]||(i[4]=s("p",null,"一共四条指令，关键是得找到自己系统装在哪个分区里。",-1)),i[5]||(i[5]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hd3,gpt3"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"linux"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /boot/vmlinuz-5.15.0-107-generic"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root=/dev/sdb3")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"initrd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /boot/initrd.img-5.15.0-107-generic")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"boot")])])]),s("button",{class:"collapse"})],-1)),i[6]||(i[6]=s("h2",{id:"_0-设置根路径-可选",tabindex:"-1"},[l("0. 设置根路径(可选) "),s("a",{class:"header-anchor",href:"#_0-设置根路径-可选","aria-label":'Permalink to "0. 设置根路径(可选)"'},"​")],-1)),i[7]||(i[7]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hdx,gptx"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),s("button",{class:"collapse"})],-1)),i[8]||(i[8]=s("p",null,[l("假如跳过了这一步，下文写路径的时候就要加上"),s("code",null,"(hdx,gptx)")],-1)),i[9]||(i[9]=s("p",null,[l("可以使用"),s("code",null,"ls"),l("命令+"),s("code",null,"tab键"),l("查看分区信息，找到linux根目录所在分区（注意，直接tab看可选项，不用回车）")],-1)),i[10]||(i[10]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ls"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (hd0,gpt1")])])]),s("button",{class:"collapse"})],-1)),i[11]||(i[11]=s("p",null,"输出如下图",-1)),i[12]||(i[12]=s("p",null,[s("img",{src:E,alt:"列出所有分区"}),l(" 可以看到第三个"),s("code",null,"ext*"),l("类型的分区就是linux的根目录所在分区。")],-1)),i[13]||(i[13]=s("p",null,"接着输入",-1)),i[14]||(i[14]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hd3,gpt3"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])]),s("button",{class:"collapse"})],-1)),i[15]||(i[15]=s("p",null,"根目录就设置完成了",-1)),i[16]||(i[16]=s("h2",{id:"_1-加载内核",tabindex:"-1"},[l("1. 加载内核 "),s("a",{class:"header-anchor",href:"#_1-加载内核","aria-label":'Permalink to "1. 加载内核"'},"​")],-1)),i[17]||(i[17]=s("p",null,"加载内核的指令格式如下",-1)),i[18]||(i[18]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"linux"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /path/to/"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"内核映像文"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"件"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root=/dev/"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"根目录分"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"区"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 一般是 linux /boot/vmlinuz-*-*-generic root=/dev/sd??")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 如果是nvme硬盘的话， root=/dev/nvme?n?p?")])])]),s("button",{class:"collapse"})],-1)),i[19]||(i[19]=s("p",null,[l("内核映像文件靠tab补全就行，根目录分区可以查看"),s("code",null,"/etc/fstab"),l("文件得到，用"),s("code",null,"cat"),l("命令查看")],-1)),i[20]||(i[20]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cat"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/fstab")])])]),s("button",{class:"collapse"})],-1)),i[21]||(i[21]=s("figure",null,[s("img",{src:f,alt:"查看分区设备名",loading:"lazy",decoding:"async"})],-1)),i[22]||(i[22]=s("p",null,[l("可以看到输出"),s("code",null,"# / was on /dev/sdb3 during installation."),l("，说明根目录在"),s("code",null,"/dev/sdb3"),l("，所以"),s("code",null,"root=/dev/sdb3"),l("。")],-1)),i[23]||(i[23]=s("p",null,"最终得到",-1)),i[24]||(i[24]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"linux"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /boot/vmlinuz-5.15.0-107-generic"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root=/dev/sdb3")])])]),s("button",{class:"collapse"})],-1)),i[25]||(i[25]=s("h3",{id:"",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#","aria-label":'Permalink to ""'},"​")],-1)),i[26]||(i[26]=s("h2",{id:"_2-初始化ram盘",tabindex:"-1"},[l("2. 初始化RAM盘 "),s("a",{class:"header-anchor",href:"#_2-初始化ram盘","aria-label":'Permalink to "2. 初始化RAM盘"'},"​")],-1)),i[27]||(i[27]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"initrd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  /path/to/"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"initramfs镜像文"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"件"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# initrd /boot/initrd.img-*-*-generic")])])]),s("button",{class:"collapse"})],-1)),i[28]||(i[28]=s("p",null,[l("initramfs镜像文件和内核映像文件类似，靠tab补全就行，一般都是放在"),s("code",null,"/boot"),l("目录下，比如我的例子是")],-1)),i[29]||(i[29]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"initrd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /boot/initrd.img-5.15.0-107-generic")])])]),s("button",{class:"collapse"})],-1)),i[30]||(i[30]=s("h2",{id:"_3-最后一步——-boot",tabindex:"-1"},[l("3.最后一步—— boot "),s("a",{class:"header-anchor",href:"#_3-最后一步——-boot","aria-label":'Permalink to "3.最后一步—— boot"'},"​")],-1)),i[31]||(i[31]=s("p",null,[l("输入"),s("code",null,"boot"),l("启动系统")],-1)),i[32]||(i[32]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"boot")])])]),s("button",{class:"collapse"})],-1)),i[33]||(i[33]=s("h2",{id:"完整截图",tabindex:"-1"},[l("完整截图 "),s("a",{class:"header-anchor",href:"#完整截图","aria-label":'Permalink to "完整截图"'},"​")],-1)),i[34]||(i[34]=s("figure",null,[s("img",{src:B,alt:"修复linux系统Grub引导",loading:"lazy",decoding:"async"})],-1)),i[35]||(i[35]=s("h2",{id:"进了系统后怎么修复引导",tabindex:"-1"},[l("进了系统后怎么修复引导 "),s("a",{class:"header-anchor",href:"#进了系统后怎么修复引导","aria-label":'Permalink to "进了系统后怎么修复引导"'},"​")],-1)),i[36]||(i[36]=s("p",null,"一般就这两个指令默认参数就行",-1)),i[37]||(i[37]=s("div",{style:{"max-height":"500px"},class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," grub-install")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," update-grub")])])]),s("button",{class:"collapse"})],-1))]),"main-header":t(()=>[e(a.$slots,"main-header")]),"main-header-after":t(()=>[e(a.$slots,"main-header-after")]),"main-nav":t(()=>[e(a.$slots,"main-nav")]),"main-content-before":t(()=>[e(a.$slots,"main-content-before")]),"main-content":t(()=>[e(a.$slots,"main-content")]),"main-content-after":t(()=>[e(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[e(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[e(a.$slots,"main-nav-after")]),comment:t(()=>[e(a.$slots,"comment")]),footer:t(()=>[e(a.$slots,"footer")]),aside:t(()=>[e(a.$slots,"aside")]),"aside-custom":t(()=>[e(a.$slots,"aside-custom")]),default:t(()=>[e(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{O as default,c as usePageData};
